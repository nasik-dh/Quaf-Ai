<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamic Insight Book Store</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
body {
    margin: 0;
    padding: 20px;
    font-family: 'Times New Roman', 'Amiri', serif;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    color: #2c3e50;
    line-height: 1.7;
    position: relative;
    min-height: 100vh;
}

/* Islamic pattern overlay */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="islamic" patternUnits="userSpaceOnUse" width="20" height="20"><circle cx="10" cy="10" r="1" fill="rgba(52,73,94,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23islamic)"/></svg>');
    pointer-events: none;
    z-index: -1;
}

.header {
    text-align: center;
    margin-bottom: 40px;
    padding: 30px 0;
    background: linear-gradient(145deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.9) 100%);
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(26, 71, 42, 0.1);
    border: 2px solid #d4af37;
}

h1 {
    font-size: 3rem;
    color: #1a472a;
    font-weight: 700;
    margin-bottom: 15px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.subtitle {
    font-size: 1.2rem;
    color: #7b8a8b;
    margin-bottom: 20px;
    font-style: italic;
}

.welcome-text {
    font-size: 1rem;
    color: #5d6d7e;
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
}

h2 {
    font-size: 2.5rem;
    color: #1a472a;
    font-weight: 700;
    text-align: center;
    margin: 50px 0 40px 0;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-bottom: 3px solid #d4af37;
    padding-bottom: 15px;
    position: relative;
}

.books-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 35px;
    margin-bottom: 40px;
    max-width: 1400px;
    margin: 0 auto;
}

.book-card {
    border: 2px solid #d4af37;
    border-radius: 15px;
    padding: 25px;
    text-align: center;
    background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
    box-shadow: 0 8px 25px rgba(26, 71, 42, 0.15);
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
}

.book-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(26, 71, 42, 0.25);
}

.book-image {
    width: 100%;
    height: 280px;
    object-fit: cover;
    border-radius: 12px;
    margin-bottom: 20px;
    border: 3px solid #f8f9fa;
    transition: transform 0.3s ease;
}

.book-card:hover .book-image {
    transform: scale(1.05);
}

.book-name {
    font-size: 1.3rem;
    font-weight: 800;
    margin: 20px 0;
    color: #1a472a;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    border-bottom: 2px solid #d4af37;
    padding-bottom: 10px;
}

.book-price {
    font-size: 1.6rem;
    font-weight: bold;
    color: #d4af37;
    margin: 15px 0;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    background: linear-gradient(45deg, #d4af37, #f1c40f);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.book-description {
    font-size: 1rem;
    color: #5d6d7e;
    margin-bottom: 20px;
    line-height: 1.6;
    height: 100px;
    overflow: hidden;
    text-align: justify;
    text-justify: inter-word;
}

.book-details {
    font-size: 0.9rem;
    color: #7b8a8b;
    white-space: pre-line;
    margin: 15px 0;
    background: #f8f9fa;
    padding: 12px;
    border-radius: 8px;
    border-left: 4px solid #d4af37;
}

.order-btn {
    background: linear-gradient(45deg, #1a472a 0%, #27ae60 100%);
    color: #ffffff;
    border: none;
    padding: 18px 25px;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 0 4px 15px rgba(26, 71, 42, 0.3);
}

.order-btn:hover {
    background: linear-gradient(45deg, #27ae60 0%, #1a472a 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(26, 71, 42, 0.4);
}

.order-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.order-form {
    display: none;
    background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(26, 71, 42, 0.2);
    max-width: 650px;
    margin: 40px auto;
    border: 2px solid #d4af37;
    position: relative;
}

.order-form h3 {
    font-size: 1.8rem;
    font-weight: 800;
    color: #1a472a;
    margin-bottom: 30px;
    text-align: center;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-bottom: 2px solid #d4af37;
    padding-bottom: 15px;
}

.form-group {
    margin-bottom: 25px;
}

.form-group label {
    font-weight: bold;
    font-size: 1.1rem;
    color: #1a472a;
    margin-bottom: 12px;
    display: block;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.form-group input, .form-group select {
    width: 100%;
    padding: 15px;
    border: 2px solid #d4af37;
    border-radius: 10px;
    font-size: 1rem;
    background: #f8f9fa;
    color: #2c3e50;
    transition: all 0.3s ease;
    box-sizing: border-box;
}

.form-group input:focus, .form-group select:focus {
    outline: none;
    border-color: #1a472a;
    background: #ffffff;
    box-shadow: 0 0 10px rgba(26, 71, 42, 0.2);
}

.form-buttons {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    margin-top: 35px;
}

.submit-btn, .back-btn {
    flex: 1;
    padding: 16px;
    border: none;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.submit-btn {
    background: linear-gradient(45deg, #1a472a 0%, #27ae60 100%);
    color: #ffffff;
    box-shadow: 0 4px 15px rgba(26, 71, 42, 0.3);
}

.submit-btn:hover:not(:disabled) {
    background: linear-gradient(45deg, #27ae60 0%, #1a472a 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(26, 71, 42, 0.4);
}

.submit-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.back-btn {
    background: linear-gradient(45deg, #7b8a8b 0%, #95a5a6 100%);
    color: #ffffff;
    box-shadow: 0 4px 15px rgba(123, 138, 139, 0.3);
}

.back-btn:hover {
    background: linear-gradient(45deg, #95a5a6 0%, #7b8a8b 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(123, 138, 139, 0.4);
}

.hidden {
    display: none;
}

.success-message {
    background: linear-gradient(45deg, #27ae60, #2ecc71);
    color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    margin: 20px 0;
    font-size: 1.1rem;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
}

.error-message {
    background: linear-gradient(45deg, #e74c3c, #c0392b);
    color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    margin: 20px 0;
    font-size: 1.1rem;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
}

.footer {
    text-align: center;
    margin-top: 60px;
    padding: 30px;
    background: linear-gradient(145deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.9) 100%);
    border-radius: 20px;
    border: 2px solid #d4af37;
    color: #7b8a8b;
}

.footer p {
    margin: 10px 0;
    font-size: 1rem;
}

.footer .contact-info {
    font-size: 1.1rem;
    color: #1a472a;
    font-weight: bold;
    margin-top: 20px;
}

.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255,255,255,.3);
    border-radius: 50%;
    border-top-color: #fff;
    animation: spin 1s ease-in-out infinite;
    margin-right: 10px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    body {
        padding: 15px;
    }
    
    h1 {
        font-size: 2.5rem;
    }
    
    h2 {
        font-size: 2rem;
    }
    
    .books-grid {
        grid-template-columns: 1fr;
        gap: 25px;
    }
    
    .order-form {
        padding: 25px;
        margin: 15px;
    }
    
    .form-buttons {
        flex-direction: column;
        gap: 15px;
    }
    
    .header {
        padding: 20px;
    }
}
    </style>
</head>
<body>

    <div id="books-section">
        <h1><i class="fas fa-book-open"></i> Islamic Insight Store</h1>
        <h2><i class="fas fa-books"></i> All Available Issues</h2>
        <div class="books-grid" id="booksGrid">
            <!-- Books will be loaded here -->
        </div>
    </div>

    <div id="order-form" class="order-form">
        <h3><i class="fas fa-shopping-cart"></i> Order Details</h3>
        <div class="form-group">
            <label for="customerName"><i class="fas fa-user"></i> Full Name *</label>
            <input type="text" id="customerName" required placeholder="Enter your full name">
        </div>
        <div class="form-group">
            <label for="email"><i class="fas fa-envelope"></i> Email Address *</label>
            <input type="email" id="email" required placeholder="Enter your email address">
        </div>
        <div class="form-group">
            <label for="phoneNumber"><i class="fas fa-phone"></i> Phone Number *</label>
            <input type="tel" id="phoneNumber" required placeholder="Enter your phone number">
        </div>
        <div class="form-group">
            <label for="houseName"><i class="fas fa-home"></i> House Name/Number *</label>
            <input type="text" id="houseName" required placeholder="Enter house name or number">
        </div>
        <div class="form-group">
            <label for="place"><i class="fas fa-map-marker-alt"></i> Street/Area *</label>
            <input type="text" id="place" required placeholder="Enter street or area name">
        </div>
        <div class="form-group">
            <label for="district"><i class="fas fa-city"></i> District *</label>
            <input type="text" id="district" required placeholder="Enter your district">
        </div>
        <div class="form-group">
            <label for="state"><i class="fas fa-flag"></i> State *</label>
            <input type="text" id="state" required placeholder="Enter your state">
        </div>
        <div class="form-group">
            <label for="pinCode"><i class="fas fa-map-pin"></i> Pin Code *</label>
            <input type="number" id="pinCode" pattern="[0-9]{6}" title="Please enter a valid 6-digit pin code" required placeholder="Enter 6-digit pin code">
        </div>
        <div class="form-group">
            <label for="country"><i class="fas fa-globe"></i> Country *</label>
            <input type="text" id="country" value="India" required>
        </div>
        <div class="form-buttons">
            <button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-left"></i> Back</button>
            <button class="submit-btn" id="submitBtn" onclick="submitOrder()"><i class="fas fa-paper-plane"></i> Submit Order</button>
        </div>
    </div>

    <div class="footer">
        <p><strong>Department of Quran and Related Sciences</strong></p>
        <p>Darul Huda Islamic University (DHIU), Chemmad</p>
        <div class="contact-info">
            <p><i class="fas fa-envelope"></i> For inquiries: islamicinsight@dhiu.in</p>
            <p><i class="fas fa-phone"></i> Contact: +91-7306340227</p>
        </div>
        <p style="margin-top: 20px; font-size: 0.9rem;">
            <i class="fas fa-copyright"></i> 2024 Islamic Insight Journal. All rights reserved.
        </p>
    </div>

    <script>
        const books = [
            {
                id: 'book1',
                name: 'Islamic Insight Vol-1 No-1',
                price: '₹250',
                image: 'https://dqdhiu.netlify.app/vol1no1.jpg',
                description: 'Islamic Insight Journal of Islamic Studies (IIJIS) functions as a bilingual (English and Arabic) platform for disseminating exceptional academic research on Islam and the Muslim world. It welcomes original scholarship across various disciplines, encompassing textual analysis of the Quran and Hadith, Islamic legal and theological discourse, philosophy, comparative religion, social sciences, and the historical and cultural experiences of Muslims. Notably, IIJIS employs a rigorous double-blind peer review process to ensure the quality of published works.',
                details: 'Published By: Department of Quran and Related Sciences, DHIU Chemmad \nPages: 250\nLanguage: Arabic, English'
            },
            {
                id: 'book2',
                name: 'Islamic Insight Vol-1 No-2',
                price: '₹250',
                image: 'https://dqdhiu.netlify.app/vol1no2.jpg',
                description: 'Islamic Insight Journal of Islamic Studies (IIJIS) functions as a bilingual (English and Arabic) platform for disseminating exceptional academic research on Islam and the Muslim world. It welcomes original scholarship across various disciplines, encompassing textual analysis of the Quran and Hadith, Islamic legal and theological discourse, philosophy, comparative religion, social sciences, and the historical and cultural experiences of Muslims. Notably, IIJIS employs a rigorous double-blind peer review process to ensure the quality of published works.',
                details: 'Published By: Department of Quran and Related Sciences, DHIU Chemmad \nPages: 250\nLanguage: Arabic, English'
            },
            {
                id: 'book3',
                name: 'Islamic Insight Vol-5 No-1',
                price: '₹250',
                image: 'https://dqdhiu.netlify.app/vol5no1.jpg',
                description: 'Islamic Insight Journal of Islamic Studies (IIJIS) functions as a bilingual (English and Arabic) platform for disseminating exceptional academic research on Islam and the Muslim world. It welcomes original scholarship across various disciplines, encompassing textual analysis of the Quran and Hadith, Islamic legal and theological discourse, philosophy, comparative religion, social sciences, and the historical and cultural experiences of Muslims. Notably, IIJIS employs a rigorous double-blind peer review process to ensure the quality of published works.',
                details: 'Published By: Department of Quran and Related Sciences, DHIU Chemmad \nPages: 250\nLanguage: Arabic, English'
            },
            {
                id: 'book4',
                name: 'Islamic Insight Vol-7 No-1',
                price: '₹250',
                image: 'https://dqdhiu.netlify.app/vol7no1.jpg',
                description: 'Islamic Insight Journal of Islamic Studies (IIJIS) functions as a bilingual (English and Arabic) platform for disseminating exceptional academic research on Islam and the Muslim world. It welcomes original scholarship across various disciplines, encompassing textual analysis of the Quran and Hadith, Islamic legal and theological discourse, philosophy, comparative religion, social sciences, and the historical and cultural experiences of Muslims. Notably, IIJIS employs a rigorous double-blind peer review process to ensure the quality of published works.',
                details: 'Published By: Department of Quran and Related Sciences, DHIU Chemmad \nPages: 250\nLanguage: Arabic, English'
            },
            {
                id: 'book5',
                name: 'Islamic Insight Vol-7 No-2',
                price: '₹250',
                image: 'https://dqdhiu.netlify.app/vol7no2.jpg',
                description: 'Islamic Insight Journal of Islamic Studies (IIJIS) functions as a bilingual (English and Arabic) platform for disseminating exceptional academic research on Islam and the Muslim world. It welcomes original scholarship across various disciplines, encompassing textual analysis of the Quran and Hadith, Islamic legal and theological discourse, philosophy, comparative religion, social sciences, and the historical and cultural experiences of Muslims. Notably, IIJIS employs a rigorous double-blind peer review process to ensure the quality of published works.',
                details: 'Published By: Department of Quran and Related Sciences, DHIU Chemmad \nPages: 250\nLanguage: Arabic, English'
            }
        ];

        let selectedBook = null;

        function loadBooks() {
            const grid = document.getElementById('booksGrid');
            grid.innerHTML = books.map(book => `
                <div class="book-card">
                    <img src="${book.image}" alt="${book.name}" class="book-image" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkJvb2sgSW1hZ2U8L3RleHQ+PC9zdmc+'">
                    <div class="book-name">${book.name}</div>
                    <div class="book-price">${book.price}</div>
                    <div class="book-description">${book.description}</div>
                    <div class="book-details">${book.details}</div>
                    <button class="order-btn" onclick="orderBook('${book.id}')">
                        <i class="fas fa-shopping-cart"></i> Order Now
                    </button>
                </div>
            `).join('');
        }

        function orderBook(bookId) {
            selectedBook = books.find(book => book.id === bookId);
            document.getElementById('books-section').classList.add('hidden');
            document.getElementById('order-form').style.display = 'block';
            
            // Update form title with book name
            document.querySelector('#order-form h3').innerHTML = `<i class="fas fa-shopping-cart"></i> Order: ${selectedBook.name}`;
            
            // Scroll to top of form
            document.getElementById('order-form').scrollIntoView({ behavior: 'smooth' });
        }

        function goBack() {
            document.getElementById('books-section').classList.remove('hidden');
            document.getElementById('order-form').style.display = 'none';
            selectedBook = null;
            
            // Clear any existing messages
            const existingMessages = document.querySelectorAll('.success-message, .error-message');
            existingMessages.forEach(msg => msg.remove());
            
            // Scroll to top of books section
            document.getElementById('books-section').scrollIntoView({ behavior: 'smooth' });
        }

        function validateForm() {
            const requiredFields = ['customerName', 'email', 'phoneNumber', 'houseName', 'place', 'district', 'state', 'pinCode', 'country'];
            
            for (let fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.focus();
                    showMessage(`Please fill in the ${field.previousElementSibling.textContent.replace('*', '').trim()}`, 'error');
                    return false;
                }
            }

            // Email validation
            const email = document.getElementById('email').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('email').focus();
                showMessage('Please enter a valid email address', 'error');
                return false;
            }

            // Phone validation
            const phoneNumber = document.getElementById('phoneNumber').value.trim();
            if (!/^[\d\s\+\-\(\)]{10,15}$/.test(phoneNumber)) {
                document.getElementById('phoneNumber').focus();
                showMessage('Please enter a valid phone number (10-15 digits)', 'error');
                return false;
            }

            // Pin code validation
            const pinCode = document.getElementById('pinCode').value.trim();
            if (!/^[0-9]{6}$/.test(pinCode)) {
                document.getElementById('pinCode').focus();
                showMessage('Please enter a valid 6-digit pin code', 'error');
                return false;
            }

            return true;
        }

        function showMessage(message, type) {
            // Remove existing messages
            const existingMessages = document.querySelectorAll('.success-message, .error-message');
            existingMessages.forEach(msg => msg.remove());

            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i> ${message}`;
            
            const form = document.getElementById('order-form');
            form.insertBefore(messageDiv, form.firstChild);
            
            // Auto remove error messages after 5 seconds
            if (type === 'error') {
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.remove();
                    }
                }, 5000);
            }
        }

        function generateOrderId() {
            return 'ORD-' + Date.now() + '-' + Math.random().toString(36).substring(2, 8).toUpperCase();
        }

        function submitOrder() {
            if (!validateForm()) {
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            const originalHTML = submitBtn.innerHTML;
            
            // Show loading state
            submitBtn.innerHTML = '<span class="loading"></span>Submitting Order...';
            submitBtn.disabled = true;

            const orderData = {
                order_id: generateOrderId(),
                book_id: selectedBook.id,
                book_name: selectedBook.name,
                price: selectedBook.price,
                customer_name: document.getElementById('customerName').value.trim(),
                email: document.getElementById('email').value.trim(),
                phone_number: document.getElementById('phoneNumber').value.trim(),
                house_name: document.getElementById('houseName').value.trim(),
                place: document.getElementById('place').value.trim(),
                district: document.getElementById('district').value.trim(),
                state: document.getElementById('state').value.trim(),
                pin_code: document.getElementById('pinCode').value.trim(),
                country: document.getElementById('country').value.trim(),
                order_date: new Date().toLocaleDateString('en-IN'),
                order_time: new Date().toLocaleTimeString('en-IN')
            };

            console.log('Submitting order data:', orderData);

            // Send to Google Sheets
            fetch('https://script.google.com/macros/s/AKfycbw6PPECJg0dFPwW7eJLc0aZfG2tI_2N_UkoSSxMjPfuhIP8vxL6V6Lzzh2ni1bCuAcDIw/exec', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    order_data: orderData
                }),
                mode: 'no-cors'
            })
            .then(response => {
                console.log('Order submitted successfully');
                showMessage(`Thank you! Your order (${orderData.order_id}) has been submitted successfully. We will contact you soon via email or phone to confirm your order and arrange delivery.`, 'success');
                
                // Reset form
                const form = document.getElementById('order-form');
                const inputs = form.querySelectorAll('input');
                inputs.forEach(input => {
                    if (input.id !== 'country') {
                        input.value = '';
                    }
                });
                
                // Auto redirect back to books after 8 seconds
                setTimeout(() => {
                    goBack();
                }, 8000);
            })
            .catch(error => {
                console.error('Error submitting order:', error);
                showMessage('Failed to submit order. Please try again or contact us directly.', 'error');
            })
            .finally(() => {
                submitBtn.innerHTML = originalHTML;
                submitBtn.disabled = false;
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadBooks();
            
            // Add smooth scrolling for better UX
            document.documentElement.style.scrollBehavior = 'smooth';
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            // ESC key to go back
            if (event.key === 'Escape' && document.getElementById('order-form').style.display === 'block') {
                goBack();
            }
        });
    </script>
</body>
</html>
